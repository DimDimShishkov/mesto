import{Card}from"../components/Card.js";import{FormValidator}from"../components/FormValidator.js";import{initialCards,editButton,addImageButton,profileName,profileDescription,profileNameEdit,profileDescriptionEdit,config}from"../utils/constants.js";import{UserInfo}from"../components/UserInfo.js";import{PopupWithForm}from"../components/PopupWithForm.js";import"./index.css";import PopupWithImage from"../components/PopupWithImage.js";import{Section}from"../components/Section.js";var userInfo=new UserInfo({profileName,profileDescription}),popupFormInfo=new PopupWithForm(".popup_type_info",{submitHandler:function(e){userInfo.setUserInfo(e)}});popupFormInfo.setEventListeners(),editButton.addEventListener("click",(function(){var e=userInfo.getUserInfo();profileNameEdit.value=e.title,profileDescriptionEdit.value=e.description,popupFormInfo.open(),formValidators.info.resetValidation()}));var handleCreateCard=function(e){return new Card({item:e,handleCardClick},".image-template").generateCard()},popupFormImage=new PopupWithForm(".popup_type_images",{submitHandler:function(e){cardList.addItemPrepend(handleCreateCard(e))}});popupFormImage.setEventListeners(),addImageButton.addEventListener("click",(function(){formValidators.images.resetValidation(),popupFormImage.open()}));var popupWithImage=new PopupWithImage(".popup_type_image");popupWithImage.setEventListeners();var handleCardClick=function(e,o){popupWithImage.open(e,o)},cardList=new Section({items:initialCards,renderer:function(e){cardList.addItemPrepend(handleCreateCard(e))}},".elements");cardList.renderItems();var formValidators={},enableValidation=function(e){Array.from(document.querySelectorAll(".".concat(e.formSelector))).forEach((function(o){var t=new FormValidator(e,o),r=o.getAttribute("name");formValidators[r]=t,t.enableValidation()}))};enableValidation(config);